# Rent NFT

# Map
- [Go to develop section](#develop)

![website demo](https://gateway.pinata.cloud/ipfs/QmQ1VCsaXxZMSptNU3fBeDXEVyggGARj52NCmmnZFffsFP)

# Develop

Watch this along with this readme:
https://youtu.be/6Z5rcZjoM_c

To start the front, you will need:

1. **[only if you have made changes to the smart contracts]** latest smart contracts' types (generated by typechain in contracts repo)
2. local ethereum testnet (hardhat)
3. local subgraph node (subgraph lets you query on-chain (blockchain) data)
4. deploy our smart contract's subgraph to the local subgraph node
5. MetaMask wallet with the correct network and ethereum provider URL
6. start the front!

Let's tackle this step by step

**[optional] 1. latest smart contracts' types (generated by typechain in contracts repo)**
- go to: https://github.com/RENTFT/contracts-template/tree/symfoni-context, clone this branch
- run `yarn` to install the deps
- now run `yarn compile`
  you will get this
  ```
  Creating Typechain artifacts in directory     /Users/shredder/git/renft/contracts/frontend/src/hardhat/typechain for target ethers-v5
    Successfully generated Typechain artifacts!
   âœ¨  Done in 6.61s.
  ```
- you now have the types for our smart contracts in that directory
- for now you need to manually copy the `hardhat` directory's contents into this repo, into folder: `src/hardhat`

**2. local ethereum testnet (hardhat)**
- go to: https://github.com/RENTFT/contracts-template, clone it
- now run `yarn` to install the deps
- now run `yarn hardhat node --hostname 0.0.0.0 --watch`
- nb: if enabled, this step will also generate the types mentioned in step 1

**3. local subgraph node (subgraph lets you query on-chain (blockchain) data)**
- go to: https://github.com/RENTFT/local-subgraph-node, clone it
- `cd` into `docker` and run `sudo docker-compose up`
- nb: you may need to run `sudo docker-compose rm` if you have previously ran this command

**4. deploy our smart contract's subgraph to the local subgraph node**
- go to: https://github.com/RENTFT/subgraph, clone it
- now run `yarn` to install the deps
- move the RentNft.json artifact in the build/contracts folder of the contracts repo into build folder in here
- run `yarn codegen`
- run `yarn build`
- now run `yarn create-local nazariyv/ReNFT`
- now run `yarn deploy-local`

**5. MetaMask wallet with the correct network and ethereum provider URL**
- I recommend using a different "profile" in your browser, to get a clean MetaMask account
- your seed phrase is "test test test test test test test test test test test junk"
- you will need to create a new metamask network with the following config

network name: localhost 8545

rpc url: http://localhost:8545

chain id: 31337

symbol: ETH

Our reNFT app has named accounts, third account is the lender and so will show the NFTs in the lend tab.

**6. Start the front**
- `yarn` to install deps in this repo
- `yarn dev` to start the dev server

# Contriutions:
- Integrate Renting
  1. show all of the rentings (except your lendings) on the platform by default in the rent tab (erc721 and erc1155)
  2. just like in lending, add the toggle switch. When toggled, will only show the ones you are renting
  3. when you click rent under the available nft, shows modal. This modal will have inputs as per in the rent call in smart contract: number of days to rent for (cannot exceed maximum number set by lender), approve the nft (if required).
- Integrate Dashboard
  1. use the results from the subgraph calls already made to retrieve lendings and rentings for the tabs
- Leaderboard
  1. let's remove completely for now
